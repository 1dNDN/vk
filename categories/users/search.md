---
layout: default
title: Метод Users.Search
permalink: users/search/
comments: true
---
# Метод Users.Search
Возвращает список пользователей в соответствии с заданным критерием поиска.

Страница документации ВКонтакте [users.search](https://vk.com/dev/users.search).
## Синтаксис
``` csharp
public ReadOnlyCollection<User> Search(out int itemsCount, UserSearchParams @params)
```

## Параметры
Класс **`UsersSearchParams`** содержит следующие свойства:

+ **Query** - Строка поискового запроса. Например, Вася Бабич. строка
+ **Sort** - Сортировка результатов: 1 - по дате регистрации, 0 - по популярности целое число
+ **Offset** - Смещение относительно первого найденного пользователя для выборки определенного подмножества. положительное число
+ **Count** - Количество возвращаемых пользователей. Обратите внимание — даже при использовании параметра offset для получения информации доступны только первые 1000 результатов. 
///  положительное число, по умолчанию 20, максимальное значение 1000
+ **Fields** - Список дополнительных полей профилей, которые необходимо вернуть. См. подробное описание. 
/// Доступные значения: photo_id, verified, sex, bdate, city, country, home_town, has_photo, photo_50, photo_100, photo_200_orig, photo_200, photo_400_orig, photo_max, photo_max_orig, online, lists, domain, has_mobile, contacts, site, education, universities, schools, status, last_seen, followers_count, common_count, occupation, nickname, relatives, relation, personal, connections, exports, wall_comments, activities, interests, music, movies, tv, books, games, about, quotes, can_post, can_see_all_posts, can_see_audio, can_write_private_message, can_send_friend_request, is_favorite, is_hidden_from_feed, timezone, screen_name, maiden_name, crop_photo, is_friend, friend_status, career, military, blacklisted, blacklisted_by_me список строк, разделенных через запятую
+ **City** - Идентификатор города. положительное число
+ **Country** - Идентификатор страны. положительное число
+ **Hometown** - Название города строкой. строка
+ **UniversityCountry** - Идентификатор страны, в которой пользователи закончили ВУЗ. положительное число
+ **University** - Идентификатор ВУЗа. положительное число
+ **UniversityYear** - Год окончания ВУЗа. положительное число
+ **UniversityFaculty** - Идентификатор факультета. положительное число
+ **UniversityChair** - Идентификатор кафедры. положительное число
+ **Sex** - Пол, 1 —  женщина, 2 — мужчина, 0 (по умолчанию) — любой. положительное число
+ **Status** - Семейное положение: 1 — Не женат, 2 — Встречается, 3 — Помолвлен, 4 — Женат, 7 — Влюблён, 5 — Всё сложно, 6 — В активном поиске. положительное число
+ **AgeFrom** - Начиная с какого возраста. положительное число
+ **AgeTo** - До какого возраста. положительное число
+ **BirthDay** - День рождения. положительное число
+ **BirthMonth** - Месяц рождения. положительное число
+ **BirthYear** - Год рождения. положительное число
+ **Online** - 1 — только в сети, 0 — все пользователи. флаг, может принимать значения 1 или 0
+ **HasPhoto** - 1 — только с фотографией, 0 — все пользователи. флаг, может принимать значения 1 или 0
+ **SchoolCountry** - Идентификатор страны, в которой пользователи закончили школу. положительное число
+ **SchoolCity** - Идентификатор города, в котором пользователи закончили школу. положительное число
+ **SchoolClass** - Положительное число
+ **School** - Идентификатор школы, которую закончили пользователи. положительное число
+ **SchoolYear** - Год окончания школы. положительное число
+ **Religion** - Религиозные взгляды. строка
+ **Interests** - Интересы. строка
+ **Company** - Название компании, в которой работают пользователи. строка
+ **Position** - Название должности. строка
+ **GroupId** - Идентификатор группы, среди пользователей которой необходимо проводить поиск. положительное число
+ **FromList** - Разделы среди которых нужно осуществить поиск, перечисленные через запятую: 
/// friends – искать среди друзей 
/// subscriptions – искать среди друзей и подписок пользователя список строк, разделенных через запятую

## Результат
После успешного выполнения возвращает список объектов user, найденных в соответствии с заданными критериями.

## Исключения
+ **AccessTokenInvalidException** - не задан или используется неверный AccessToken.
+ **ArgumentException** - строка поискового запроса пуста или равна значению null.

## Пример
```csharp
// Выбор первых двадцати Ивановых Маш.
int count; // хранит общее количество Ивановых Маш зарегистрированных во ВКонтаке
var users = vk.Users.Search(out count, new UserSearchParams { Query = Query }).ToList();
foreach (var user in users)
{
   .....
}

// Получение всей информации о первых 5 Ивановых Машах, начиная с 15 позиции.
int count; // хранит общее количество Ивановых Маш зарегистрированных во ВКонтаке
var users = vk.Users.Search(out count, new UserSearchParams { Query = Query, Fields = ProfileFields.All, Count = 5, Offset = 15}).ToList();
```

## Версия Вконтакте API v.5.44
Дата обновления: 19.01.2016 12:44:46
